---
title: OBV, VWAP
parent: 투자
nav_order: 19
description: "OBV(On Balance Volume)와 VWAP(Volume Weighted Average Price)의 원리, 계산 구조, 실전 활용법, 그리고 두 지표를 조합하는 방법을 설명합니다."
---

# OBV와 VWAP — 거래량 기반 지표의 원리와 활용
{:.no_toc}

가격 기반 지표(RSI, MACD 등)가 "모멘텀"을 읽는다면, OBV와 VWAP은 **"수급 에너지"와 "실제 체결 수준"**을 읽는 지표입니다.

## 목차
{:.no_toc}

1. TOC
{:toc}

---

## OBV (On Balance Volume)

### 거래량은 같아도 "주도권"은 다르다

모든 거래는 산 사람 = 판 사람입니다. 수량도 동일하고 거래대금도 동일합니다. 그런데 가격이 오르거나 내리는 이유는, **둘 중 누가 더 적극적으로 거래를 "요청"했는지**가 다르기 때문입니다.

### 호가창 구조로 이해하기

주식/코인 시장에는 항상 매수 호가(bid)와 매도 호가(ask)가 쌓여 있습니다.

| 상황 | 주도권 | 가격 방향 |
|------|--------|-----------|
| 매수자가 ask(매도 호가)를 적극적으로 소화 | 매수 주도 (aggressor = buyer) | 상승 |
| 매도자가 bid(매수 호가)를 적극적으로 소화 | 매도 주도 (aggressor = seller) | 하락 |

거래량이 같아도 **"적극적인 쪽(aggressor)"이 매수냐 매도냐**에 따라 가격 방향이 결정되며, OBV는 그 방향의 **누적 결과**를 추적합니다.

### OBV 계산 방식

| 당일 종가 | OBV 계산 |
|-----------|----------|
| 전일보다 상승 | OBV = 전일 OBV + 당일 거래량 |
| 전일보다 하락 | OBV = 전일 OBV - 당일 거래량 |
| 변동 없음 | OBV = 전일 OBV (변동 없음) |

### OBV가 포착하는 것

OBV는 "적극적인 쪽"이 시간이 지남에 따라 **누가 더 많은 에너지를 쏟았는지**를 누적해서 보여줍니다.

> 산 사람과 판 사람의 **수량**은 항상 같지만, 가격을 움직인 건 **먼저 움직인 쪽**입니다. OBV는 어느 쪽이 더 오랫동안, 더 많이 먼저 움직였는지를 추적하는 지표입니다.

### OBV 다이버전스 예시

**강세 다이버전스 — 가격 횡보 + OBV 상승:**

> 종목 A가 10,000원 부근에서 2주째 횡보 중입니다. 그런데 OBV는 꾸준히 우상향하고 있습니다.
>
> 해석: 매수자들이 대량의 물량을 적극적으로 사들이고 있지만, 매도 물량이 아직 많아서 가격이 억눌려 있는 상태. **매집(accumulation)** 가능성이 높고, 매도 물량이 소진되면 가격이 따라 올라갈 수 있습니다.

**약세 다이버전스 — 가격 신고점 + OBV 하락:**

> 종목 B가 전고점을 돌파하며 15,000원을 찍었습니다. 그런데 OBV는 이전 고점 때보다 오히려 낮습니다.
>
> 해석: 가격은 올랐지만 실제 매수 에너지는 줄어든 상태. 소수의 매수세로 가격이 밀려 올라간 것일 수 있으며, **분배(distribution)** 가능성을 경고합니다.

### OBV의 한계

OBV는 하루의 시가~고가~저가 변동을 무시하고 **종가만** 기준으로 +/-를 판단합니다. 장중에 매수 주도로 크게 올랐다가 종가에 살짝 밀리면, 그날 전체 거래량이 마이너스로 기록되는 왜곡이 생깁니다.

이를 보완한 지표가 Chaikin Money Flow나 VWAP입니다.

---

## VWAP (Volume Weighted Average Price)

### 왜 "거래량 가중" 평균인가

단순 평균가는 모든 시간대를 동등하게 취급합니다. 하지만 실제 시장에서는 거래가 거의 없는 한산한 시간대의 가격과 거래가 폭발적으로 몰린 시간대의 가격이 시장에 미치는 영향이 전혀 다릅니다.

**예시:**

| 시간대 | 가격 | 거래량 |
|--------|------|--------|
| 오전 | 10,000원 | 100주 |
| 오후 | 12,000원 | 10,000주 |

- **단순 평균**: (10,000 + 12,000) / 2 = **11,000원**
- **VWAP**: (10,000 x 100 + 12,000 x 10,000) / 10,100 = **약 11,980원**

오후에 훨씬 많은 자금이 움직였으므로 VWAP이 현실에 훨씬 가깝습니다. **"실제로 돈이 오간 평균가"**가 VWAP의 본질입니다.

### VWAP 계산 구조

$$
VWAP = \frac{\sum (Typical\ Price_i \times Volume_i)}{\sum Volume_i}
$$

$$
Typical\ Price = \frac{High + Low + Close}{3}
$$

종가만 쓰면 장중 변동성을 무시하게 됩니다 (OBV의 한계와 동일). 고가와 저가를 포함함으로써 **그 캔들 안에서 가격이 실제로 어디까지 움직였는지**를 반영합니다.

### 기관이 VWAP을 쓰는 이유 — 체결 벤치마크

기관 투자자는 한 번에 수십억~수천억을 집행해야 합니다. 이때 두 가지 문제가 생깁니다.

| 문제 | 설명 |
|------|------|
| **슬리피지(Slippage)** | 한꺼번에 대량 매수하면 호가를 위로 밀어올려 평균 체결가가 상승 |
| **성과 평가** | "오늘 잘 샀다"는 것을 어떻게 증명할 것인가 |

VWAP이 이 두 문제를 해결합니다.

> "오늘 VWAP보다 낮게 체결했으면 잘 산 것, 높게 체결했으면 못 산 것"

기관은 이 기준을 맞추기 위해 하루 동안 **거래량이 많은 시간대에 더 많이, 적은 시간대에 더 적게** 나눠서 주문을 집행합니다. 이것을 **VWAP 알고리즘 주문**이라고 하며, 대형 증권사 HTS에서 자동으로 실행됩니다.

### VWAP이 지지/저항선으로 작동하는 이유

VWAP이 동적 지지/저항선으로 기능하는 이유는 **자기실현적 예언(Self-fulfilling Prophecy)** 때문입니다.

| 단계 | 작동 |
|------|------|
| 1 | 수많은 기관이 동일하게 VWAP을 기준으로 매매 |
| 2 | 가격이 VWAP 아래로 떨어지면 기관 매수 유입 |
| 3 | 가격이 다시 VWAP 위로 올라옴 |
| 4 | VWAP이 지지선처럼 작동 |

VWAP 자체에 어떤 마법이 있는 게 아니라, **많은 참가자가 같은 기준을 쓰기 때문에 그것이 현실이 되는** 것입니다.

### 매일 리셋되는 이유

VWAP은 **당일 장 시작부터 누적**됩니다. 전날 데이터를 이어받지 않는 이유는, 기관의 목표가 "오늘 하루 동안 시장 평균가 대비 얼마나 잘 체결했나"이기 때문입니다.

장 시작 직후에는 데이터가 적어 VWAP이 시가 근처에 있고, 거래가 쌓일수록 점점 안정적인 기준선이 됩니다. **장 초반 VWAP은 신뢰도가 낮고, 장 중후반으로 갈수록 의미가 커집니다.**

### Session VWAP vs Rolling VWAP

| 구분 | Session VWAP | Rolling VWAP |
|------|-------------|-------------|
| **계산 범위** | 당일 장 시작 ~ 현재 | 최근 N개 캔들 |
| **데이터량** | 시간이 갈수록 증가 | 항상 N개로 고정 |
| **특성** | 장 후반일수록 안정적, 잘 안 흔들림 | 최근 가격에 민감하게 반응 |
| **적합한 용도** | 기관 벤치마크, 당일 추세 파악 | 단타, 스캘핑, 단기 방향 포착 |
| **한계** | 장 초반 불안정, 당일만 유효 | N 설정에 따라 결과가 크게 달라짐 |

Rolling VWAP은 이동평균선(MA)과 비슷하지만, MA가 가격만 평균내는 반면 Rolling VWAP은 **거래량이 많은 구간에 더 가중치**를 줍니다.

---

## OBV + VWAP 조합 활용

OBV는 "어느 쪽이 더 적극적으로 움직였나(방향성)"를 추적하고, VWAP은 "시장 전체의 평균 체결가(수준)"를 제공합니다. 둘을 조합하면 **가격 수준과 수급 에너지를 동시에** 볼 수 있습니다.

### 신호 조합 해석

| 가격 vs VWAP | OBV 방향 | 해석 |
|-------------|----------|------|
| 가격 > VWAP | OBV 상승 | **강한 상승 추세 확인**. 평균보다 비싸게 거래되는데도 매수세가 강함 |
| 가격 > VWAP | OBV 하락 | **추세 약화 경고**. 가격은 높지만 실제 매수 에너지가 빠지는 중 |
| 가격 < VWAP | OBV 하락 | **강한 하락 추세 확인**. 평균보다 싸게 거래되면서 매도세도 강함 |
| 가격 < VWAP | OBV 상승 | **바닥 매집 가능성**. 가격은 눌려있지만 적극적 매수가 진행 중 |

### 예시 케이스

**케이스 1: 강한 상승 추세 확인**

> 종목 C가 장 초반부터 VWAP 위에서 거래되고 있고, OBV도 꾸준히 우상향합니다.
>
> 해석: 당일 평균 체결가보다 높은 가격에서도 매수세가 계속 유입되는 상태. 기관도 개인도 "비싸도 사겠다"는 의지가 반영된 것이므로 **추세 추종 롱 진입에 유리한 환경**입니다.

**케이스 2: VWAP 위인데 OBV가 꺾임 — 추세 약화 경고**

> 종목 D가 오후까지 VWAP 위에서 거래 중이지만, OBV가 오전 고점 대비 하락하고 있습니다.
>
> 해석: 가격은 아직 버티고 있지만 적극적 매수세는 줄어드는 중. **신규 롱 진입은 자제하고, 기존 보유분은 익절을 고려**하는 구간입니다. VWAP 하향 이탈 시 하락 가속 가능성.

**케이스 3: VWAP 아래 + OBV 상승 — 바닥 매집 신호**

> 종목 E가 장 중반 급락 후 VWAP 아래에서 횡보 중입니다. 그런데 OBV는 급락 저점 이후 조금씩 올라가고 있습니다.
>
> 해석: 가격은 아직 평균 아래에 눌려있지만 누군가 적극적으로 매수 중. 급락 물량을 받아내는 **매집 구간**일 수 있습니다. VWAP 회복 돌파 시 반등 가속 가능성이 있으나, VWAP 돌파 전까지는 확인 대기.

**케이스 4: VWAP 아래 + OBV도 하락 — 하락 추세 지속**

> 종목 F가 장 시작부터 VWAP 아래에서 거래되고, OBV도 계속 내리막입니다.
>
> 해석: 평균보다 싸게 거래되면서 매도세도 지속적으로 강한 상태. **가장 피해야 할 롱 진입 환경**이며, 숏 포지션이 허가된 레짐에서는 추세 추종 숏에 유리합니다.
